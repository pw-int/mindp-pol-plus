(self.webpackChunk=self.webpackChunk||[]).push([[1163],{4673:(t,e,n)=>{var r={"./cognifit.js":4682,"./hello_controller.js":4695,"./progress_controller.js":3490};function o(t){var e=i(t);return n(e)}function i(t){if(!n.o(r,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return r[t]}o.keys=function(){return Object.keys(r)},o.resolve=i,t.exports=o,o.id=4673},8205:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>r});const r={}},4682:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>d});n(2564),n(2222),n(4916),n(5306),n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);var r=n(7931),o=n(3088),i=n(1063),c=n(5311);function u(t){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function s(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=p(t);if(e){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(t,e){if(e&&("object"===u(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var d=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}(y,t);var e,n,r,u=s(y);function y(){return a(this,y),u.apply(this,arguments)}return e=y,(n=[{key:"connect",value:function(){var t=this,e=new o.CognifitSdkConfig(this.element.id,this.data.get("clientid"),this.data.get("accesstoken"),{sandbox:!1,appType:"web",customCss:"https://js.cognifit.com/customCss/playwing-custom-v20210804-0001/styles.css",showResults:!1,listenEvents:!0}),n=new i.$;n.init(e).then((function(e){var r=0,o=setInterval((function(){r+=30,t.request("".concat(activityTrackingRoute,"/in-progress/").concat(r))}),3e4),i=!0;n.start(t.data.get("activitytype"),t.data.get("activitykey")).subscribe({next:function(e){e.isEvent()&&i&&(t.request("".concat(activityTrackingRoute,"/started/ok")),i=!1),e.isSessionAborted()?t.request("".concat(activityTrackingRoute,"/ended/canceled"),window.location.replace(t.data.get("returnurl"))):e.isSessionCompleted()&&(t.request("".concat(activityTrackingRoute,"/ended/finished")),t.processCompletedSession())},complete:function(){clearInterval(o)},error:function(e){t.request("".concat(activityTrackingRoute,"/started/nok"))}})})).catch((function(e){t.request("".concat(activityTrackingRoute,"/started/nok"))}))}},{key:"request",value:function(t,e){c.ajax({url:t,complete:function(){}})}},{key:"updateUserProgress",value:function(){c.ajax({url:this.data.get("updateprogressurl"),type:"POST",success:function(t){c("#loader").remove(),c("#resultBlock").removeAttr("style"),c("#resultScore img").attr("src",assetImages[t.data.imageNumber]),c("#resultScore p").append(t.data.score)},error:function(t){}})}},{key:"processCompletedSession",value:function(){this.data.get("canshowscore")?(c("#cogniFitContent").remove(),c("#loader").removeAttr("style"),this.updateUserProgress()):window.location.replace(this.data.get("returnurl"))}}])&&f(e.prototype,n),r&&f(e,r),y}(r.Controller)},4695:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});n(8304),n(489),n(2419),n(8011),n(9070),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(f,t);var e,n,r,a=u(f);function f(){return o(this,f),a.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){this.element.textContent="Hello Stimulus! Edit me in assets/controllers/hello_controller.js"}}])&&i(e.prototype,n),r&&i(e,r),f}(n(7931).Controller)},3490:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>l});n(1249),n(9554),n(4747),n(8304),n(489),n(3290),n(2419),n(8011),n(9070),n(2526),n(1817),n(1539),n(2165),n(6992),n(8783),n(3948);function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function c(t,e){return(c=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function u(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=f(t);if(e){var o=f(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return a(this,n)}}function a(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function f(t){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&c(t,e)}(f,t);var e,n,r,a=u(f);function f(){return o(this,f),a.apply(this,arguments)}return e=f,(n=[{key:"connect",value:function(){var t=JSON.parse(this.data.get("cognitivescores")),e=t.map((function(t,e){return e+1}));this.title=this.data.get("title"),this.buildChart(this.data.element,e,t,4)}},{key:"buildChart",value:function(t,e,n,r){var o=t,i=this.data.get("goaltext"),c={labels:e,datasets:[{label:this.data.get("scoretext"),data:n,fill:!0,borderColor:"rgb(75, 192, 192)",backgroundColor:"#80D7EC",background:"#5A7591",tension:.6}]},u={options:{legend:{display:!1},scales:{y:{beginAtZero:!0,display:!0,ticks:{display:!1,color:"#ffffff"},max:800},x:{ticks:{color:"#ffffff",callback:function(t,n){return n===e.length-1?"":n+1+""}}}},animation:{duration:1,onComplete:function(){var t=this,e=this.ctx;e.textAlign="center",e.strokeStyle="#ffffff",e.textBaseline="bottom";var n=this.getDatasetMeta(0);this.data.datasets.forEach((function(o){for(var c=1;c<o.data.length-1;c++){var u=n.data[c];if(e.font='12px, "Futura Md Bold"',e.fillStyle="#ffffff",c===r){var a=e.measureText(i);s(e,u.x-a.width/2-2,u.y-2*a.fontBoundingBoxAscent-2,a.width+4,2*a.fontBoundingBoxAscent+4,10,"#ffffff"),e.fillStyle="#5A7591",e.fillText(i,u.x,u.y-a.fontBoundingBoxAscent),e.fillText(o.data[c],u.x,u.y)}else e.fillStyle="#ffffff",e.fillText(o.data[c],u.x,u.y-5);e.beginPath(),e.strokeStyle="#ffffff",e.lineWidth=3,e.moveTo(u.x,u.y),e.lineTo(u.x,t.scales.y.bottom),e.stroke()}}))}},plugins:{legend:{labels:{generateLabels:function(){return[]}},title:{display:!0,color:"white",text:this.title,padding:20,font:{name:"Futura",weight:600}}}}},type:"line",data:c};return new Chart(o,u)}}])&&i(e.prototype,n),r&&i(e,r),f}(n(7931).Controller);function s(t,e,n,r,o,i,c,u){if(void 0===u&&(u=!0),void 0===i&&(i=5),"number"==typeof i)i={tl:i,tr:i,br:i,bl:i};else{var a={tl:0,tr:0,br:0,bl:0};for(var f in a)i[f]=i[f]||a[f]}t.beginPath(),t.moveTo(e+i.tl,n),t.lineTo(e+r-i.tr,n),t.quadraticCurveTo(e+r,n,e+r,n+i.tr),t.lineTo(e+r,n+o-i.br),t.quadraticCurveTo(e+r,n+o,e+r-i.br,n+o),t.lineTo(e+i.bl,n+o),t.quadraticCurveTo(e,n+o,e,n+o-i.bl),t.lineTo(e,n+i.tl),t.quadraticCurveTo(e,n,e+i.tl,n),t.closePath(),c&&t.fill(),u&&t.stroke()}},2793:(t,e,n)=>{"use strict";n.d(e,{l:()=>r});var r=(0,n(2192).x)(n(4673))}}]);